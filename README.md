# Muur
Muur bot for telegtram

## Бот для Телеграма, реализация на основе Telebot

-= ОСТОРОЖНО, ГОВНОКОД! =-

### На текущий момент умеет:

- считать рейтинг в печеньках 
  - поднимает на то количество, сколько плюсов поставлено
  - минусить можно только по одному за раз
  - помимо "+" поднимает рейтинг на "Спасибо", "Круто"
  - узнать свой рейтинг можно командой "/rating", чужой - запросив "/rating" в ответ на чужое сообщение
- выкладывать по запросу гифки с GIPHY
  - триггеры по умолчанию: '!гифка', '!гиф', '!gif', '!gifka', 'gifka', 'gif', 'гифка', 'гиф'
- говорить в третьем лице
  -  команда "/me". <i>Пример: "/me охреневает от происходящего" - будет заменено на сообщение от бота "Бармаглот охреневает от происходящего", оригинальное сообщение стирает</i>
- срабатывать на заданные в файлах json триггеры, в частности:
  - обниматься на триггер "обнять" в ответ на чужое сообщение
  - выдавать фразы в тему на "люди дебилы\долбо@бы\мудаки"
  - выдавать фразы на "деньги"
  - выдавать куки монстра на фразы с печеньками
  - выдавать кумамона на "слава сотоне"
  - выдавать всратого кота на "ЪУЪ"
  - играть в русскую рулетку на команду "револьвер" <i>(хотя не все пистолеты там - револьверы, но каждый представленных по-своему уникален!)</i>
  - выдавать рандомные фразы для общего поддержания <s>штанов</s> диалога
  - выдавать фидбэк на слово "тест"<br><br>Подробнее триггеры можно посмотреть в самих файлах JSON

### В планах:

- переделать формат объектов json в более понятный 
- добавить больше возможностей для триггеров
- вычистить код
- исправить запросы к GIPHY на русском языке <i>(в наст. момент там тупо прикручен гуглопереводчик, поэтому случаются казусы, например "усы" гугл упорно переводит как "poison")</i>
- прикрутить RuGPT2/3
- больше стандартных триггеров

По форматированию JSONов: ( * - пока не реализовано)

#### IsReply: 
- 1 - отвечать только на реплай 
- 2 - отвечать и просто на сообщение, и на реплай

#### CaseDep

- 1 - регистрозависимо, во всех остальных случаях - нет

#### IsReg: 
- 1 - если сообщение содержит искомый текст
- <b>2 - если сообщение начинается с искомого текста</b> *
- <b>3 - если сообщение заканчивается на искомый текст</b> *
- <b>4 - регэксп </b> *

#### Type: 
- 1 - Or (рандомный выбор)
- <b>2 - And</b> * <i>(в принципе, сейчас это можно сделать через Next (см. ниже)</i>

#### Next:
- 'текст' - текст для следующего триггера, обрабатываемого отдельным файлом json<br>
<i><b>HINT:</b> лучше использовать какой-то специфический триггер, чтобы не не было случайных срабатываний. Плохой пример: "привет". Хороший пример: "!привет_"</i>

#### Answers:    
- answ_poss: 0-100 - вероятность ответа на сообщение (никак не связано с вероятностью выбора варианта ответа, там тупой рандом) 
- answ_text: текст ответа
- isit_pic: 1 - картинка, 2 - gif или видео
- answ_pic_aft_text: картинка после текста ответа
- <b>answ_pic_bef_text: картинка до текста ответа</b> *

#### Формат файла рейтингов:
 Ratings, в нём объекты, для каждого из которых:
- id - идетнтификатор пользователя, 
- rating - рейтинг
